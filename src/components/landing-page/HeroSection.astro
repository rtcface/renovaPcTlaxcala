---
import ScrollingTags from "./ScrollingTags.astro";

export interface Props {
  uniqueTags: string[];
}

const { uniqueTags } = Astro.props;
---

<section
  class="relative min-h-[calc(100vh-4rem)] h-auto md:h-[calc(100vh-4rem)] overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 py-8 md:py-0"
>
  <div
    class="absolute inset-0 bg-[linear-gradient(to_right,#0f172a_1px,transparent_1px),linear-gradient(to_bottom,#0f172a_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_110%)] animate-pulse"
  >
  </div>

  <ScrollingTags uniqueTags={uniqueTags} />

  <div
    class="absolute top-1/4 left-1/4 w-64 h-64 md:w-96 md:h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"
    style="background-color: hsl(220 100% 30% / 0.1);"
  >
  </div>
  <div
    class="absolute bottom-1/4 right-1/4 w-64 h-64 md:w-96 md:h-96 rounded-full blur-3xl animate-pulse delay-1000"
    style="background-color: hsl(51 100% 50% / 0.1);"
  >
  </div>
  <div
    class="absolute top-1/2 right-1/3 w-48 h-48 md:w-64 md:h-64 bg-primary/10 rounded-full blur-2xl animate-pulse delay-2000"
    style="background-color: hsl(220 100% 30% / 0.15);"
  >
  </div>

  <div
    class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 min-h-full flex items-center pointer-events-none py-8 md:py-0"
  >
    <div class="text-center w-full">
      <div
        class="flex flex-col justify-center items-center pointer-events-auto"
        id="mona-text"
      >
        <h1
          class="mb-4 text-3xl font-bold tracking-tight text-white sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl px-15"
        >
          <span class="text-secondary text-glow animate-pulse">¡Renueva tu PC</span> <span class="text-shadow-blue-950 text-glow animate-pulse">y dale una segunda vida!</span> 
          
        </h1>

        <p class="mx-auto max-w-3xl text-base sm:text-lg md:text-xl text-white leading-relaxed mb-6 md:mb-8 px-4">
          En RenovaPC Tlaxcala optimizamos, limpiamos e instalamos Windows para que tu equipo funcione como nuevo.
        </p>
        
        <div class="flex justify-center gap-4 pointer-events-auto px-4">
          <a
            href="https://wa.me/52461715930"
            target="_blank"
            rel="noopener noreferrer"
            class="px-4 py-3 sm:px-6 sm:py-3 md:px-8 md:py-4 bg-primary text-white rounded-lg font-semibold hover:bg-primary/90 transition-colors text-sm sm:text-base md:text-lg"
          >
            Contáctanos por WhatsApp
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { createTimeline, stagger, text } from "animejs";

  document.addEventListener("DOMContentLoaded", () => {
    const monaElement = document.getElementById("mona-text");
    if (monaElement) {
      const { chars } = text.split(monaElement, {
        words: false,
        chars: true,
      });
      createTimeline({
        loop: false,
        defaults: { ease: "inOut(3)", duration: 1500 },
      })
        .add(
          chars,
          {
            y: [($el) => (+$el.dataset.line % 2 ? "100%" : "-200%"), "0%"],
            opacity: [0, 1],
          },
          stagger(10, { from: "random" })
        )
        .init()
        .then(() => {
          document.dispatchEvent(new Event("start-tags"));
        });
    }
  });
</script>
